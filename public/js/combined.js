(function(e){"use strict";var t,n,r;e.extend({roundaboutShapes:{def:"lazySusan",lazySusan:function(e,t,n){return{x:Math.sin(e+t),y:Math.sin(e+3*Math.PI/2+t)/8*n,z:(Math.cos(e+t)+1)/2,scale:Math.sin(e+Math.PI/2+t)/2+.5}}}});t={bearing:0,tilt:0,minZ:100,maxZ:280,minOpacity:.4,maxOpacity:1,minScale:.4,maxScale:1,duration:600,btnNext:null,btnNextCallback:function(){},btnPrev:null,btnPrevCallback:function(){},btnToggleAutoplay:null,btnStartAutoplay:null,btnStopAutoplay:null,easing:"swing",clickToFocus:true,clickToFocusCallback:function(){},focusBearing:0,shape:"lazySusan",debug:false,childSelector:"li",startingChild:null,reflect:false,floatComparisonThreshold:.001,autoplay:false,autoplayDuration:1e3,autoplayPauseOnHover:false,autoplayCallback:function(){},autoplayInitialDelay:0,enableDrag:false,dropDuration:600,dropEasing:"swing",dropAnimateTo:"nearest",dropCallback:function(){},dragAxis:"x",dragFactor:4,triggerFocusEvents:true,triggerBlurEvents:true,responsive:false};n={autoplayInterval:null,autoplayIsRunning:false,autoplayStartTimeout:null,animating:false,childInFocus:-1,touchMoveStartPosition:null,stopAnimation:false,lastAnimationStep:false};r={init:function(i,s,o){var u,f=(new Date).getTime();i=typeof i==="object"?i:{};s=e.isFunction(s)?s:function(){};s=e.isFunction(i)?i:s;u=e.extend({},t,i,n);return this.each(function(){var t=e(this),n=t.children(u.childSelector).length,i=360/n,f=u.startingChild&&u.startingChild>n-1?n-1:u.startingChild,l=u.startingChild===null?u.bearing:360-f*i,c=t.css("position")!=="static"?t.css("position"):"relative";t.css({padding:0,position:c}).addClass("roundabout-holder").data("roundabout",e.extend({},u,{startingChild:f,bearing:l,oppositeOfFocusBearing:r.normalize.apply(null,[u.focusBearing-180]),dragBearing:l,period:i}));if(o){t.unbind(".roundabout").children(u.childSelector).unbind(".roundabout")}else{if(u.responsive){e(window).bind("resize",function(){r.stopAutoplay.apply(t);r.relayoutChildren.apply(t)})}}if(u.clickToFocus){t.children(u.childSelector).each(function(n){e(this).bind("click.roundabout",function(){var i=r.getPlacement.apply(t,[n]);if(!r.isInFocus.apply(t,[i])){r.stopAnimation.apply(e(this));if(!t.data("roundabout").animating){r.animateBearingToFocus.apply(t,[i,t.data("roundabout").clickToFocusCallback])}return false}})})}if(u.btnNext){e(u.btnNext).bind("click.roundabout",function(){if(!t.data("roundabout").animating){r.animateToNextChild.apply(t,[t.data("roundabout").btnNextCallback])}return false})}if(u.btnPrev){e(u.btnPrev).bind("click.roundabout",function(){r.animateToPreviousChild.apply(t,[t.data("roundabout").btnPrevCallback]);return false})}if(u.btnToggleAutoplay){e(u.btnToggleAutoplay).bind("click.roundabout",function(){r.toggleAutoplay.apply(t);return false})}if(u.btnStartAutoplay){e(u.btnStartAutoplay).bind("click.roundabout",function(){r.startAutoplay.apply(t);return false})}if(u.btnStopAutoplay){e(u.btnStopAutoplay).bind("click.roundabout",function(){r.stopAutoplay.apply(t);return false})}if(u.autoplayPauseOnHover){t.bind("mouseenter.roundabout.autoplay",function(){r.stopAutoplay.apply(t,[true])}).bind("mouseleave.roundabout.autoplay",function(){r.startAutoplay.apply(t)})}if(u.enableDrag){if(!e.isFunction(t.drag)){if(u.debug){alert("You do not have the drag plugin loaded.")}}else if(!e.isFunction(t.drop)){if(u.debug){alert("You do not have the drop plugin loaded.")}}else{t.drag(function(e,n){var i=t.data("roundabout"),s=i.dragAxis.toLowerCase()==="x"?"deltaX":"deltaY";r.stopAnimation.apply(t);r.setBearing.apply(t,[i.dragBearing+n[s]/i.dragFactor])}).drop(function(e){var n=t.data("roundabout"),i=r.getAnimateToMethod(n.dropAnimateTo);r.allowAnimation.apply(t);r[i].apply(t,[n.dropDuration,n.dropEasing,n.dropCallback]);n.dragBearing=n.period*r.getNearestChild.apply(t)})}t.each(function(){var t=e(this).get(0),n=e(this).data("roundabout"),i=n.dragAxis.toLowerCase()==="x"?"pageX":"pageY",s=r.getAnimateToMethod(n.dropAnimateTo);if(t.addEventListener){t.addEventListener("touchstart",function(e){n.touchMoveStartPosition=e.touches[0][i]},false);t.addEventListener("touchmove",function(t){var s=(t.touches[0][i]-n.touchMoveStartPosition)/n.dragFactor;t.preventDefault();r.stopAnimation.apply(e(this));r.setBearing.apply(e(this),[n.dragBearing+s])},false);t.addEventListener("touchend",function(t){t.preventDefault();r.allowAnimation.apply(e(this));s=r.getAnimateToMethod(n.dropAnimateTo);r[s].apply(e(this),[n.dropDuration,n.dropEasing,n.dropCallback]);n.dragBearing=n.period*r.getNearestChild.apply(e(this))},false)}})}r.initChildren.apply(t,[s,o])})},initChildren:function(t,n){var i=e(this),s=i.data("roundabout");t=t||function(){};i.children(s.childSelector).each(function(t){var s,o,u,f=r.getPlacement.apply(i,[t]);if(n&&e(this).data("roundabout")){s=e(this).data("roundabout").startWidth;o=e(this).data("roundabout").startHeight;u=e(this).data("roundabout").startFontSize}e(this).addClass("roundabout-moveable-item").css("position","absolute");e(this).data("roundabout",{startWidth:s||e(this).width(),startHeight:o||e(this).height(),startFontSize:u||parseInt(e(this).css("font-size"),10),degrees:f,backDegrees:r.normalize.apply(null,[f-180]),childNumber:t,currentScale:1,parent:i})});r.updateChildren.apply(i);if(s.autoplay){s.autoplayStartTimeout=setTimeout(function(){r.startAutoplay.apply(i)},s.autoplayInitialDelay)}i.trigger("ready");t.apply(i);return i},updateChildren:function(){return this.each(function(){var t=e(this),n=t.data("roundabout"),i=-1,s={bearing:n.bearing,tilt:n.tilt,stage:{width:Math.floor(e(this).width()*.9),height:Math.floor(e(this).height()*.9)},animating:n.animating,inFocus:n.childInFocus,focusBearingRadian:r.degToRad.apply(null,[n.focusBearing]),shape:e.roundaboutShapes[n.shape]||e.roundaboutShapes[e.roundaboutShapes.def]};s.midStage={width:s.stage.width/2,height:s.stage.height/2};s.nudge={width:s.midStage.width+s.stage.width*.05,height:s.midStage.height+s.stage.height*.05};s.zValues={min:n.minZ,max:n.maxZ,diff:n.maxZ-n.minZ};s.opacity={min:n.minOpacity,max:n.maxOpacity,diff:n.maxOpacity-n.minOpacity};s.scale={min:n.minScale,max:n.maxScale,diff:n.maxScale-n.minScale};t.children(n.childSelector).each(function(o){if(r.updateChild.apply(t,[e(this),s,o,function(){e(this).trigger("ready")}])&&(!s.animating||n.lastAnimationStep)){i=o;e(this).addClass("roundabout-in-focus")}else{e(this).removeClass("roundabout-in-focus")}});if(i!==s.inFocus){if(n.triggerBlurEvents){t.children(n.childSelector).eq(s.inFocus).trigger("blur")}n.childInFocus=i;if(n.triggerFocusEvents&&i!==-1){t.children(n.childSelector).eq(i).trigger("focus")}}t.trigger("childrenUpdated")})},updateChild:function(t,n,i,s){var o,u=this,f=e(t),l=f.data("roundabout"),c=[],h=r.degToRad.apply(null,[360-l.degrees+n.bearing]);s=s||function(){};h=r.normalizeRad.apply(null,[h]);o=n.shape(h,n.focusBearingRadian,n.tilt);o.scale=o.scale>1?1:o.scale;o.adjustedScale=(n.scale.min+n.scale.diff*o.scale).toFixed(4);o.width=(o.adjustedScale*l.startWidth).toFixed(4);o.height=(o.adjustedScale*l.startHeight).toFixed(4);f.css({left:(o.x*n.midStage.width+n.nudge.width-o.width/2).toFixed(0)+"px",top:(o.y*n.midStage.height+n.nudge.height-o.height/2).toFixed(0)+"px",width:o.width+"px",height:o.height+"px",opacity:(n.opacity.min+n.opacity.diff*o.scale).toFixed(2),zIndex:Math.round(n.zValues.min+n.zValues.diff*o.z),fontSize:(o.adjustedScale*l.startFontSize).toFixed(1)+"px"});l.currentScale=o.adjustedScale;if(u.data("roundabout").debug){c.push('<div style="font-weight: normal; font-size: 10px; padding: 2px; width: '+f.css("width")+'; background-color: #ffc;">');c.push('<strong style="font-size: 12px; white-space: nowrap;">Child '+i+"</strong><br />");c.push("<strong>left:</strong> "+f.css("left")+"<br />");c.push("<strong>top:</strong> "+f.css("top")+"<br />");c.push("<strong>width:</strong> "+f.css("width")+"<br />");c.push("<strong>opacity:</strong> "+f.css("opacity")+"<br />");c.push("<strong>height:</strong> "+f.css("height")+"<br />");c.push("<strong>z-index:</strong> "+f.css("z-index")+"<br />");c.push("<strong>font-size:</strong> "+f.css("font-size")+"<br />");c.push("<strong>scale:</strong> "+f.data("roundabout").currentScale);c.push("</div>");f.html(c.join(""))}f.trigger("reposition");s.apply(u);return r.isInFocus.apply(u,[l.degrees])},setBearing:function(t,n){n=n||function(){};t=r.normalize.apply(null,[t]);this.each(function(){var n,i,s,o=e(this),u=o.data("roundabout"),f=u.bearing;u.bearing=t;o.trigger("bearingSet");r.updateChildren.apply(o);n=Math.abs(f-t);if(!u.animating||n>180){return}n=Math.abs(f-t);o.children(u.childSelector).each(function(n){var i;if(r.isChildBackDegreesBetween.apply(e(this),[t,f])){i=f>t?"Clockwise":"Counterclockwise";e(this).trigger("move"+i+"ThroughBack")}})});n.apply(this);return this},adjustBearing:function(t,n){n=n||function(){};if(t===0){return this}this.each(function(){r.setBearing.apply(e(this),[e(this).data("roundabout").bearing+t])});n.apply(this);return this},setTilt:function(t,n){n=n||function(){};this.each(function(){e(this).data("roundabout").tilt=t;r.updateChildren.apply(e(this))});n.apply(this);return this},adjustTilt:function(t,n){n=n||function(){};this.each(function(){r.setTilt.apply(e(this),[e(this).data("roundabout").tilt+t])});n.apply(this);return this},animateToBearing:function(t,n,i,s,o){var u=(new Date).getTime();o=o||function(){};if(e.isFunction(s)){o=s;s=null}else if(e.isFunction(i)){o=i;i=null}else if(e.isFunction(n)){o=n;n=null}this.each(function(){var l,p,v,m=e(this),y=m.data("roundabout"),w=!n?y.duration:n,E=i?i:y.easing||"swing";if(!s){s={timerStart:u,start:y.bearing,totalTime:w}}l=u-s.timerStart;if(y.stopAnimation){r.allowAnimation.apply(m);y.animating=false;return}if(l<w){if(!y.animating){m.trigger("animationStart")}y.animating=true;if(typeof e.easing.def==="string"){p=e.easing[E]||e.easing[e.easing.def];v=p(null,l,s.start,t-s.start,s.totalTime)}else{v=e.easing[E](l/s.totalTime,l,s.start,t-s.start,s.totalTime)}if(r.compareVersions.apply(null,[e().jquery,"1.7.2"])>=0&&!e.easing["easeOutBack"]){v=s.start+(t-s.start)*v}v=r.normalize.apply(null,[v]);y.dragBearing=v;r.setBearing.apply(m,[v,function(){setTimeout(function(){r.animateToBearing.apply(m,[t,w,E,s,o])},0)}])}else{y.lastAnimationStep=true;t=r.normalize.apply(null,[t]);r.setBearing.apply(m,[t,function(){m.trigger("animationEnd")}]);y.animating=false;y.lastAnimationStep=false;y.dragBearing=t;o.apply(m)}});return this},animateToNearbyChild:function(t,n){var i=t[0],s=t[1],o=t[2]||function(){};if(e.isFunction(s)){o=s;s=null}else if(e.isFunction(i)){o=i;i=null}return this.each(function(){var t,u,l=e(this),h=l.data("roundabout"),p=!h.reflect?h.bearing%360:h.bearing,v=l.children(h.childSelector).length;if(!h.animating){if(h.reflect&&n==="previous"||!h.reflect&&n==="next"){p=Math.abs(p)<h.floatComparisonThreshold?360:p;for(t=0;t<v;t+=1){u={lower:h.period*t,upper:h.period*(t+1)};u.upper=t===v-1?360:u.upper;if(p<=Math.ceil(u.upper)&&p>=Math.floor(u.lower)){if(v===2&&p===360){r.animateToDelta.apply(l,[-180,i,s,o])}else{r.animateBearingToFocus.apply(l,[u.lower,i,s,o])}break}}}else{p=Math.abs(p)<h.floatComparisonThreshold||360-Math.abs(p)<h.floatComparisonThreshold?0:p;for(t=v-1;t>=0;t-=1){u={lower:h.period*t,upper:h.period*(t+1)};u.upper=t===v-1?360:u.upper;if(p>=Math.floor(u.lower)&&p<Math.ceil(u.upper)){if(v===2&&p===360){r.animateToDelta.apply(l,[180,i,s,o])}else{r.animateBearingToFocus.apply(l,[u.upper,i,s,o])}break}}}}})},animateToNearestChild:function(t,n,i){i=i||function(){};if(e.isFunction(n)){i=n;n=null}else if(e.isFunction(t)){i=t;t=null}return this.each(function(){var s=r.getNearestChild.apply(e(this));r.animateToChild.apply(e(this),[s,t,n,i])})},animateToChild:function(t,n,i,s){s=s||function(){};if(e.isFunction(i)){s=i;i=null}else if(e.isFunction(n)){s=n;n=null}return this.each(function(){var o,u=e(this),l=u.data("roundabout");if(l.childInFocus!==t&&!l.animating){o=u.children(l.childSelector).eq(t);r.animateBearingToFocus.apply(u,[o.data("roundabout").degrees,n,i,s])}})},animateToNextChild:function(e,t,n){return r.animateToNearbyChild.apply(this,[arguments,"next"])},animateToPreviousChild:function(e,t,n){return r.animateToNearbyChild.apply(this,[arguments,"previous"])},animateToDelta:function(t,n,i,s){s=s||function(){};if(e.isFunction(i)){s=i;i=null}else if(e.isFunction(n)){s=n;n=null}return this.each(function(){var o=e(this).data("roundabout").bearing+t;r.animateToBearing.apply(e(this),[o,n,i,s])})},animateBearingToFocus:function(t,n,i,s){s=s||function(){};if(e.isFunction(i)){s=i;i=null}else if(e.isFunction(n)){s=n;n=null}return this.each(function(){var o=e(this).data("roundabout").bearing-t;o=Math.abs(360-o)<Math.abs(o)?360-o:-o;o=o>180?-(360-o):o;if(o!==0){r.animateToDelta.apply(e(this),[o,n,i,s])}})},stopAnimation:function(){return this.each(function(){e(this).data("roundabout").stopAnimation=true})},allowAnimation:function(){return this.each(function(){e(this).data("roundabout").stopAnimation=false})},startAutoplay:function(t){return this.each(function(){var n=e(this),i=n.data("roundabout");t=t||i.autoplayCallback||function(){};clearInterval(i.autoplayInterval);i.autoplayInterval=setInterval(function(){r.animateToNextChild.apply(n,[t])},i.autoplayDuration);i.autoplayIsRunning=true;n.trigger("autoplayStart")})},stopAutoplay:function(t){return this.each(function(){clearInterval(e(this).data("roundabout").autoplayInterval);e(this).data("roundabout").autoplayInterval=null;e(this).data("roundabout").autoplayIsRunning=false;if(!t){e(this).unbind(".autoplay")}e(this).trigger("autoplayStop")})},toggleAutoplay:function(t){return this.each(function(){var n=e(this),i=n.data("roundabout");t=t||i.autoplayCallback||function(){};if(!r.isAutoplaying.apply(e(this))){r.startAutoplay.apply(e(this),[t])}else{r.stopAutoplay.apply(e(this),[t])}})},isAutoplaying:function(){return this.data("roundabout").autoplayIsRunning},changeAutoplayDuration:function(t){return this.each(function(){var n=e(this),i=n.data("roundabout");i.autoplayDuration=t;if(r.isAutoplaying.apply(n)){r.stopAutoplay.apply(n);setTimeout(function(){r.startAutoplay.apply(n)},10)}})},normalize:function(e){var t=e%360;return t<0?360+t:t},normalizeRad:function(e){while(e<0){e+=Math.PI*2}while(e>Math.PI*2){e-=Math.PI*2}return e},isChildBackDegreesBetween:function(t,n){var r=e(this).data("roundabout").backDegrees;if(t>n){return r>=n&&r<t}else{return r<n&&r>=t}},getAnimateToMethod:function(e){e=e.toLowerCase();if(e==="next"){return"animateToNextChild"}else if(e==="previous"){return"animateToPreviousChild"}return"animateToNearestChild"},relayoutChildren:function(){return this.each(function(){var t=e(this),n=e.extend({},t.data("roundabout"));n.startingChild=t.data("roundabout").childInFocus;r.init.apply(t,[n,null,true])})},getNearestChild:function(){var t=e(this),n=t.data("roundabout"),r=t.children(n.childSelector).length;if(!n.reflect){return(r-Math.round(n.bearing/n.period)%r)%r}else{return Math.round(n.bearing/n.period)%r}},degToRad:function(e){return r.normalize.apply(null,[e])*Math.PI/180},getPlacement:function(e){var t=this.data("roundabout");return!t.reflect?360-t.period*e:t.period*e},isInFocus:function(e){var t,n=this,i=n.data("roundabout"),s=r.normalize.apply(null,[i.bearing]);e=r.normalize.apply(null,[e]);t=Math.abs(s-e);return t<=i.floatComparisonThreshold||t>=360-i.floatComparisonThreshold},getChildInFocus:function(){var t=e(this).data("roundabout");return t.childInFocus>-1?t.childInFocus:false},compareVersions:function(e,t){var n,r=e.split(/\./i),i=t.split(/\./i),s=r.length>i.length?r.length:i.length;for(n=0;n<=s;n++){if(r[n]&&!i[n]&&parseInt(r[n],10)!==0){return 1}else if(i[n]&&!r[n]&&parseInt(i[n],10)!==0){return-1}else if(r[n]===i[n]){continue}if(r[n]&&i[n]){if(parseInt(r[n],10)>parseInt(i[n],10)){return 1}else{return-1}}}return 0}};e.fn.roundabout=function(t){if(r[t]){return r[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||e.isFunction(t)||!t){return r.init.apply(this,arguments)}else{e.error("Method "+t+" does not exist for jQuery.roundabout.")}}})(jQuery);(function(e){e.fn.superfish=function(t){var n=e.fn.superfish,r=n.c,i=e([""].join("")),s=function(){var t=e(this),n=u(t);clearTimeout(n.sfTimer);t.showSuperfishUl().siblings().hideSuperfishUl()},o=function(){var t=e(this),r=u(t),i=n.op;clearTimeout(r.sfTimer);r.sfTimer=setTimeout(function(){i.retainPath=e.inArray(t[0],i.$path)>-1;t.hideSuperfishUl();if(i.$path.length&&t.parents(["li.",i.hoverClass].join("")).length<1){s.call(i.$path)}},i.delay)},u=function(e){var t=e.parents(["ul.",r.menuClass,":first"].join(""))[0];n.op=n.o[t.serial];return t},a=function(e){e.addClass(r.anchorClass).append(i.clone())};return this.each(function(){var i=this.serial=n.o.length;var u=e.extend({},n.defaults,t);u.$path=e("li."+u.pathClass,this).slice(0,u.pathLevels).each(function(){e(this).addClass([u.hoverClass,r.bcClass].join(" ")).filter("li:has(ul)").removeClass(u.pathClass)});n.o[i]=n.op=u;e("li:has(ul)",this)[e.fn.hoverIntent&&!u.disableHI?"hoverIntent":"hover"](s,o).each(function(){if(u.autoArrows)a(e(">a:first-child",this))}).not("."+r.bcClass).hideSuperfishUl();var f=e("a",this);f.each(function(e){var t=f.eq(e).parents("li");f.eq(e).focus(function(){s.call(t)}).blur(function(){o.call(t)})});u.onInit.call(this)}).each(function(){var t=[r.menuClass];if(n.op.dropShadows&&!(e.browser.msie&&e.browser.version<7))t.push(r.shadowClass);e(this).addClass(t.join(" "))})};var t=e.fn.superfish;t.o=[];t.op={};t.IE7fix=function(){var n=t.op;if(e.browser.msie&&e.browser.version>6&&n.dropShadows&&n.animation.opacity!=undefined)this.toggleClass(t.c.shadowClass+"-off")};t.c={bcClass:"sf-breadcrumb",menuClass:"sf-js-enabled",anchorClass:"sf-with-ul",arrowClass:"sf-sub-indicator",shadowClass:"sf-shadow"};t.defaults={hoverClass:"sfHover",pathClass:"overideThisToUse",pathLevels:1,delay:800,animation:{opacity:"show"},speed:"normal",autoArrows:true,dropShadows:true,disableHI:false,onInit:function(){},onBeforeShow:function(){},onShow:function(){},onHide:function(){}};e.fn.extend({hideSuperfishUl:function(){var n=t.op,r=n.retainPath===true?n.$path:"";n.retainPath=false;var i=e(["li.",n.hoverClass].join(""),this).add(this).not(r).removeClass(n.hoverClass).find(">ul").hide().css("visibility","hidden");n.onHide.call(i);return this},showSuperfishUl:function(){var e=t.op,n=t.c.shadowClass+"-off",r=this.addClass(e.hoverClass).find(">ul:hidden").css("visibility","visible");t.IE7fix.call(r);e.onBeforeShow.call(r);r.animate(e.animation,e.speed,function(){t.IE7fix.call(r);e.onShow.call(r)});return this}})})(jQuery);(function(e){e.fn.lavaLamp=function(t){t=e.extend({fx:"swing",speed:500,click:function(){return true},startItem:"no",autoReturn:true,returnDelay:0,setOnClick:true,homeTop:0,homeLeft:0,homeWidth:0,homeHeight:0,returnHome:false},t||{});var n;if(t.homeTop||t.homeLeft){n=e('<li class="current"></li>').css({left:t.homeLeft,top:t.homeTop,width:t.homeWidth,height:t.homeHeight,position:"absolute"});e(this).prepend(n)}return this.each(function(){function l(n){if(!n)n=a;var r=0,i=0;if(!e.browser.msie){r=(u.outerWidth()-u.innerWidth())/2;i=(u.outerHeight()-u.innerHeight())/2}u.stop().animate({left:n.offsetLeft-r,width:n.offsetWidth,height:n.offsetHeight},t.speed,t.fx)}var r=location.pathname+location.search+location.hash;var i=new Object;var s;var u;var a;e.expr[":"].parents=function(t,n,r){return e(t).parents(r[3]).length<1};var f=e("li",this).filter(":parents(ul ul, .sub-menu)");if(t.startItem=="no")i=e('li a[href$="'+r+'"]',this).parent("li");if(i.length==0&&t.startItem=="no")i=e('li a[href$="'+location.pathname.substring(location.pathname.lastIndexOf("/")+1)+location.search+location.hash+'"]',this).parent("li");if(i.length==0||t.startItem!="no"){if(t.startItem=="no")t.startItem=0;i=e(f[t.startItem])}a=e("li.selectedLava",this)[0]||e(i).addClass("selectedLava")[0];f.mouseenter(function(){if(e(this).hasClass("homeLava")){a=e(this)[0]}l(this)});u=e('<li class="back"><div class="left"></div></li>').appendTo(this);e(this).mouseleave(function(){if(t.autoReturn){if(t.returnHome&&n){l(n[0])}else if(t.returnDelay){if(s)clearTimeout(s);s=setTimeout(function(){l(null)},t.returnDelay+t.speed)}else{l(null)}}});f.click(function(n){if(t.setOnClick){e(a).removeClass("selectedLava");e(this).addClass("selectedLava");a=this}return t.click.apply(this,[n,this])});if(t.homeTop||t.homeLeft)u.css({left:t.homeLeft,width:t.homeWidth,height:t.homeHeight});else u.css({left:a.offsetLeft,width:a.offsetWidth,height:a.offsetHeight})})}})(jQuery);jQuery.easing["jswing"]=jQuery.easing["swing"];jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,i){return jQuery.easing[jQuery.easing.def](e,t,n,r,i)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t+n;return-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t+n;return r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t*t+n;return-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t*t*t+n;return r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){if(t==0)return n;if(t==i)return n+r;if((t/=i/2)<1)return r/2*Math.pow(2,10*(t-1))+n;return r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){if((t/=i/2)<1)return-r/2*(Math.sqrt(1-t*t)-1)+n;return r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i)==1)return n+r;if(!o)o=i*.3;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o))+n},easeOutElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i)==1)return n+r;if(!o)o=i*.3;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return u*Math.pow(2,-10*t)*Math.sin((t*i-s)*2*Math.PI/o)+r+n},easeInOutElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i/2)==2)return n+r;if(!o)o=i*.3*1.5;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);if(t<1)return-.5*u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)+n;return u*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)*.5+r+n},easeInBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;return r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;return r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;if((t/=i/2)<1)return r/2*t*t*(((s*=1.525)+1)*t-s)+n;return r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,n,r,i){return r-jQuery.easing.easeOutBounce(e,i-t,0,r,i)+n},easeOutBounce:function(e,t,n,r,i){if((t/=i)<1/2.75){return r*7.5625*t*t+n}else if(t<2/2.75){return r*(7.5625*(t-=1.5/2.75)*t+.75)+n}else if(t<2.5/2.75){return r*(7.5625*(t-=2.25/2.75)*t+.9375)+n}else{return r*(7.5625*(t-=2.625/2.75)*t+.984375)+n}},easeInOutBounce:function(e,t,n,r,i){if(t<i/2)return jQuery.easing.easeInBounce(e,t*2,0,r,i)*.5+n;return jQuery.easing.easeOutBounce(e,t*2-i,0,r,i)*.5+r*.5+n}});(function(e){e.fn.jflickrfeed=function(t,n){t=e.extend(true,{flickrbase:"http://api.flickr.com/services/feeds/",feedapi:"photos_public.gne",limit:20,qstrings:{lang:"en-us",format:"json",jsoncallback:"?"},cleanDescription:true,useTemplate:true,itemTemplate:"",itemCallback:function(){}},t);var r=t.flickrbase+t.feedapi+"?";var i=true;for(var s in t.qstrings){if(!i)r+="&";r+=s+"="+t.qstrings[s];i=false}return e(this).each(function(){var i=e(this);var s=this;e.getJSON(r,function(r){e.each(r.items,function(e,n){if(e<t.limit){if(t.cleanDescription){var r=/<p>(.*?)<\/p>/g;var o=n.description;if(r.test(o)){n.description=o.match(r)[2];if(n.description!=undefined)n.description=n.description.replace("<p>","").replace("</p>","")}}n["image_s"]=n.media.m.replace("_m","_s");n["image_t"]=n.media.m.replace("_m","_t");n["image_m"]=n.media.m.replace("_m","_m");n["image"]=n.media.m.replace("_m","");n["image_b"]=n.media.m.replace("_m","_b");delete n.media;if(t.useTemplate){var u=t.itemTemplate;for(var a in n){var f=new RegExp("{{"+a+"}}","g");u=u.replace(f,n[a])}i.append(u)}t.itemCallback.call(s,n)}});if(e.isFunction(n)){n.call(s,r)}})})}})(jQuery);(function(e){e.fn.superfish=function(t){var n=e.fn.superfish,r=n.c,i=e([""].join("")),s=function(){var t=e(this),n=u(t);clearTimeout(n.sfTimer);t.showSuperfishUl().siblings().hideSuperfishUl()},o=function(){var t=e(this),r=u(t),i=n.op;clearTimeout(r.sfTimer);r.sfTimer=setTimeout(function(){i.retainPath=e.inArray(t[0],i.$path)>-1;t.hideSuperfishUl();if(i.$path.length&&t.parents(["li.",i.hoverClass].join("")).length<1){s.call(i.$path)}},i.delay)},u=function(e){var t=e.parents(["ul.",r.menuClass,":first"].join(""))[0];n.op=n.o[t.serial];return t},a=function(e){e.addClass(r.anchorClass).append(i.clone())};return this.each(function(){var i=this.serial=n.o.length;var u=e.extend({},n.defaults,t);u.$path=e("li."+u.pathClass,this).slice(0,u.pathLevels).each(function(){e(this).addClass([u.hoverClass,r.bcClass].join(" ")).filter("li:has(ul)").removeClass(u.pathClass)});n.o[i]=n.op=u;e("li:has(ul)",this)[e.fn.hoverIntent&&!u.disableHI?"hoverIntent":"hover"](s,o).each(function(){if(u.autoArrows)a(e(">a:first-child",this))}).not("."+r.bcClass).hideSuperfishUl();var f=e("a",this);f.each(function(e){var t=f.eq(e).parents("li");f.eq(e).focus(function(){s.call(t)}).blur(function(){o.call(t)})});u.onInit.call(this)}).each(function(){var t=[r.menuClass];if(n.op.dropShadows&&!(e.browser.msie&&e.browser.version<7))t.push(r.shadowClass);e(this).addClass(t.join(" "))})};var t=e.fn.superfish;t.o=[];t.op={};t.IE7fix=function(){var n=t.op;if(e.browser.msie&&e.browser.version>6&&n.dropShadows&&n.animation.opacity!=undefined)this.toggleClass(t.c.shadowClass+"-off")};t.c={bcClass:"sf-breadcrumb",menuClass:"sf-js-enabled",anchorClass:"sf-with-ul",arrowClass:"sf-sub-indicator",shadowClass:"sf-shadow"};t.defaults={hoverClass:"sfHover",pathClass:"overideThisToUse",pathLevels:1,delay:800,animation:{opacity:"show"},speed:"normal",autoArrows:true,dropShadows:true,disableHI:false,onInit:function(){},onBeforeShow:function(){},onShow:function(){},onHide:function(){}};e.fn.extend({hideSuperfishUl:function(){var n=t.op,r=n.retainPath===true?n.$path:"";n.retainPath=false;var i=e(["li.",n.hoverClass].join(""),this).add(this).not(r).removeClass(n.hoverClass).find(">ul").hide().css("visibility","hidden");n.onHide.call(i);return this},showSuperfishUl:function(){var e=t.op,n=t.c.shadowClass+"-off",r=this.addClass(e.hoverClass).find(">ul:hidden").css("visibility","visible");t.IE7fix.call(r);e.onBeforeShow.call(r);r.animate(e.animation,e.speed,function(){t.IE7fix.call(r);e.onShow.call(r)});return this}})})(jQuery);(function(e){e.fn.lavaLamp=function(t){t=e.extend({fx:"swing",speed:500,click:function(){return true},startItem:"no",autoReturn:true,returnDelay:0,setOnClick:true,homeTop:0,homeLeft:0,homeWidth:0,homeHeight:0,returnHome:false},t||{});var n;if(t.homeTop||t.homeLeft){n=e('<li class="current"></li>').css({left:t.homeLeft,top:t.homeTop,width:t.homeWidth,height:t.homeHeight,position:"absolute"});e(this).prepend(n)}return this.each(function(){function r(n){if(!n)n=a;var r=0,i=0;if(!e.browser.msie){r=(u.outerWidth()-u.innerWidth())/2;i=(u.outerHeight()-u.innerHeight())/2}u.stop().animate({left:n.offsetLeft-r,width:n.offsetWidth,height:n.offsetHeight},t.speed,t.fx)}var i=location.pathname+location.search+location.hash;var s=new Object;var o;var u;var a;e.expr[":"].parents=function(t,n,r){return e(t).parents(r[3]).length<1};var f=e("li",this).filter(":parents(ul ul, .sub-menu)");if(t.startItem=="no")s=e('li a[href$="'+i+'"]',this).parent("li");if(s.length==0&&t.startItem=="no")s=e('li a[href$="'+location.pathname.substring(location.pathname.lastIndexOf("/")+1)+location.search+location.hash+'"]',this).parent("li");if(s.length==0||t.startItem!="no"){if(t.startItem=="no")t.startItem=0;s=e(f[t.startItem])}a=e("li.selectedLava",this)[0]||e(s).addClass("selectedLava")[0];f.mouseenter(function(){if(e(this).hasClass("homeLava")){a=e(this)[0]}r(this)});u=e('<li class="back"><div class="left"></div></li>').appendTo(this);e(this).mouseleave(function(){if(t.autoReturn){if(t.returnHome&&n){r(n[0])}else if(t.returnDelay){if(o)clearTimeout(o);o=setTimeout(function(){r(null)},t.returnDelay+t.speed)}else{r(null)}}});f.click(function(n){if(t.setOnClick){e(a).removeClass("selectedLava");e(this).addClass("selectedLava");a=this}return t.click.apply(this,[n,this])});if(t.homeTop||t.homeLeft)u.css({left:t.homeLeft,width:t.homeWidth,height:t.homeHeight});else u.css({left:a.offsetLeft,width:a.offsetWidth,height:a.offsetHeight})})}})(jQuery);jQuery.easing["jswing"]=jQuery.easing["swing"];jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,i){return jQuery.easing[jQuery.easing.def](e,t,n,r,i)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t+n;return-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t+n;return r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t*t+n;return-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t*t*t+n;return r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){if(t==0)return n;if(t==i)return n+r;if((t/=i/2)<1)return r/2*Math.pow(2,10*(t-1))+n;return r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){if((t/=i/2)<1)return-r/2*(Math.sqrt(1-t*t)-1)+n;return r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i)==1)return n+r;if(!o)o=i*.3;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o))+n},easeOutElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i)==1)return n+r;if(!o)o=i*.3;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return u*Math.pow(2,-10*t)*Math.sin((t*i-s)*2*Math.PI/o)+r+n},easeInOutElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i/2)==2)return n+r;if(!o)o=i*.3*1.5;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);if(t<1)return-.5*u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)+n;return u*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)*.5+r+n},easeInBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;return r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;return r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;if((t/=i/2)<1)return r/2*t*t*(((s*=1.525)+1)*t-s)+n;return r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,n,r,i){return r-jQuery.easing.easeOutBounce(e,i-t,0,r,i)+n},easeOutBounce:function(e,t,n,r,i){if((t/=i)<1/2.75){return r*7.5625*t*t+n}else if(t<2/2.75){return r*(7.5625*(t-=1.5/2.75)*t+.75)+n}else if(t<2.5/2.75){return r*(7.5625*(t-=2.25/2.75)*t+.9375)+n}else{return r*(7.5625*(t-=2.625/2.75)*t+.984375)+n}},easeInOutBounce:function(e,t,n,r,i){if(t<i/2)return jQuery.easing.easeInBounce(e,t*2,0,r,i)*.5+n;return jQuery.easing.easeOutBounce(e,t*2-i,0,r,i)*.5+r*.5+n}});(function(e){e.fn.jflickrfeed=function(t,n){t=e.extend(true,{flickrbase:"http://api.flickr.com/services/feeds/",feedapi:"photos_public.gne",limit:20,qstrings:{lang:"en-us",format:"json",jsoncallback:"?"},cleanDescription:true,useTemplate:true,itemTemplate:"",itemCallback:function(){}},t);var r=t.flickrbase+t.feedapi+"?";var i=true;for(var s in t.qstrings){if(!i)r+="&";r+=s+"="+t.qstrings[s];i=false}return e(this).each(function(){var i=e(this);var s=this;e.getJSON(r,function(r){e.each(r.items,function(e,n){if(e<t.limit){if(t.cleanDescription){var r=/<p>(.*?)<\/p>/g;var o=n.description;if(r.test(o)){n.description=o.match(r)[2];if(n.description!=undefined)n.description=n.description.replace("<p>","").replace("</p>","")}}n["image_s"]=n.media.m.replace("_m","_s");n["image_t"]=n.media.m.replace("_m","_t");n["image_m"]=n.media.m.replace("_m","_m");n["image"]=n.media.m.replace("_m","");n["image_b"]=n.media.m.replace("_m","_b");delete n.media;if(t.useTemplate){var u=t.itemTemplate;for(var a in n){var f=new RegExp("{{"+a+"}}","g");u=u.replace(f,n[a])}i.append(u)}t.itemCallback.call(s,n)}});if(e.isFunction(n)){n.call(s,r)}})})}})(jQuery);(function(e){function t(t,n){return parseInt(e.css(t[0],n))||0}function n(e){return e[0].offsetWidth+t(e,"marginLeft")+t(e,"marginRight")}function r(e){return e[0].offsetHeight+t(e,"marginTop")+t(e,"marginBottom")}e.fn.jCarouselLite=function(t){t=e.extend({btnPrev:null,btnNext:null,btnGo:null,mouseWheel:false,auto:null,hoverPause:false,speed:200,easing:null,vertical:false,circular:true,visible:3,start:0,scroll:1,beforeStart:null,afterEnd:null},t||{});return this.each(function(){function i(){s();S=setInterval(function(){u(y+t.scroll)},t.auto+t.speed)}function s(){clearInterval(S)}function o(){return m.slice(y).slice(0,v)}function u(n){if(!a){if(t.beforeStart)t.beforeStart.call(this,o());if(t.circular){if(n<0){h.css(f,-((y+d)*b)+"px");y=n+d}else if(n>g-v){h.css(f,-((y-d)*b)+"px");y=n-d}else y=n}else{if(n<0||n>g-v)return;else y=n}a=true;h.animate(f=="left"?{left:-(y*b)}:{top:-(y*b)},t.speed,t.easing,function(){if(t.afterEnd)t.afterEnd.call(this,o());a=false});if(!t.circular){e(t.btnPrev+","+t.btnNext).removeClass("disabled");e(y-t.scroll<0&&t.btnPrev||y+t.scroll>g-v&&t.btnNext||[]).addClass("disabled")}}return false}var a=false,f=t.vertical?"top":"left",l=t.vertical?"height":"width";var c=e(this),h=e("ul",c),p=e("li",h),d=p.size(),v=t.visible;if(t.circular){h.prepend(p.slice(d-v+1).clone()).append(p.slice(0,t.scroll).clone());t.start+=v-1}var m=e("li",h),g=m.size(),y=t.start;c.css("visibility","visible");m.css({overflow:"hidden","float":t.vertical?"none":"left"});h.css({margin:"0",padding:"0",position:"relative","list-style-type":"none","z-index":"1"});c.css({overflow:"hidden",position:"relative","z-index":"2",left:"0px"});var b=t.vertical?r(m):n(m);var w=b*g;var E=b*v;m.css({width:m.width(),height:m.height()});h.css(l,w+"px").css(f,-(y*b));c.css(l,E+"px");if(t.btnPrev){e(t.btnPrev).click(function(){return u(y-t.scroll)});if(t.hoverPause){e(t.btnPrev).hover(function(){s()},function(){i()})}}if(t.btnNext){e(t.btnNext).click(function(){return u(y+t.scroll)});if(t.hoverPause){e(t.btnNext).hover(function(){s()},function(){i()})}}if(t.btnGo)e.each(t.btnGo,function(n,r){e(r).click(function(){return u(t.circular?t.visible+n:n)})});if(t.mouseWheel&&c.mousewheel)c.mousewheel(function(e,n){return n>0?u(y-t.scroll):u(y+t.scroll)});var S;if(t.auto){if(t.hoverPause){c.hover(function(){s()},function(){i()})}i()}})}})(jQuery);(function(e){function t(e){if(e.attr("title")||typeof e.attr("original-title")!="string"){e.attr("original-title",e.attr("title")||"").removeAttr("title")}}function n(n,r){this.$element=e(n);this.options=r;this.enabled=true;t(this.$element)}n.prototype={show:function(){var t=this.getTitle();if(t&&this.enabled){var n=this.tip();n.find(".tipsy-inner")[this.options.html?"html":"text"](t);n[0].className="tipsy";n.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);var r=e.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight});var i=n[0].offsetWidth,s=n[0].offsetHeight;var o=typeof this.options.gravity=="function"?this.options.gravity.call(this.$element[0]):this.options.gravity;var u;switch(o.charAt(0)){case"n":u={top:r.top+r.height+this.options.offset,left:r.left+r.width/2-i/2};break;case"s":u={top:r.top-s-this.options.offset,left:r.left+r.width/2-i/2};break;case"e":u={top:r.top+r.height/2-s/2,left:r.left-i-this.options.offset};break;case"w":u={top:r.top+r.height/2-s/2,left:r.left+r.width+this.options.offset};break}if(o.length==2){if(o.charAt(1)=="w"){u.left=r.left+r.width/2-15}else{u.left=r.left+r.width/2-i+15}}n.css(u).addClass("tipsy-"+o);if(this.options.fade){n.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity})}else{n.css({visibility:"visible",opacity:this.options.opacity})}}},hide:function(){if(this.options.fade){this.tip().stop().fadeOut(function(){e(this).remove()})}else{this.tip().remove()}},getTitle:function(){var e,n=this.$element,r=this.options;t(n);var e,r=this.options;if(typeof r.title=="string"){e=n.attr(r.title=="title"?"original-title":r.title)}else if(typeof r.title=="function"){e=r.title.call(n[0])}e=(""+e).replace(/(^\s*|\s*$)/,"");return e||r.fallback},tip:function(){if(!this.$tip){this.$tip=e('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"/></div>')}return this.$tip},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled}};e.fn.tipsy=function(t){function r(r){var i=e.data(r,"tipsy");if(!i){i=new n(r,e.fn.tipsy.elementOptions(r,t));e.data(r,"tipsy",i)}return i}function i(){var e=r(this);e.hoverState="in";if(t.delayIn==0){e.show()}else{setTimeout(function(){if(e.hoverState=="in")e.show()},t.delayIn)}}function s(){var e=r(this);e.hoverState="out";if(t.delayOut==0){e.hide()}else{setTimeout(function(){if(e.hoverState=="out")e.hide()},t.delayOut)}}if(t===true){return this.data("tipsy")}else if(typeof t=="string"){return this.data("tipsy")[t]()}t=e.extend({},e.fn.tipsy.defaults,t);if(!t.live)this.each(function(){r(this)});if(t.trigger!="manual"){var o=t.live?"live":"bind",u=t.trigger=="hover"?"mouseenter":"focus",a=t.trigger=="hover"?"mouseleave":"blur";this[o](u,i)[o](a,s)}return this};e.fn.tipsy.defaults={delayIn:0,delayOut:0,fade:false,fallback:"",gravity:"n",html:false,live:false,offset:0,opacity:.8,title:"title",trigger:"hover"};e.fn.tipsy.elementOptions=function(t,n){return e.metadata?e.extend({},n,e(t).metadata()):n};e.fn.tipsy.autoNS=function(){return e(this).offset().top>e(document).scrollTop()+e(window).height()/2?"s":"n"};e.fn.tipsy.autoWE=function(){return e(this).offset().left>e(document).scrollLeft()+e(window).width()/2?"e":"w"}})(jQuery);!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(e.style[n]!==undefined)return t[n]}();return e&&{end:e}}()})}(window.jQuery),!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){s.trigger("closed").remove()}var r=e(this),i=r.attr("data-target"),s;i||(i=r.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),s=e(i),t&&t.preventDefault(),s.length||(s=r.hasClass("alert")?r:r.parent()),s.trigger(t=e.Event("close"));if(t.isDefaultPrevented())return;s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.on(e.support.transition.end,n):n()};var r=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),s=typeof n=="object"&&n;i||r.data("button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(t){var n=this.getActiveIndex(),r=this;if(t>this.$items.length-1||t<0)return;return this.sliding?this.$element.one("slid",function(){r.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",e(this.$items[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",a=this,f;this.sliding=!0,s&&this.pause(),i=i.length?i:this.$element.find(".item")[u](),f=e.Event("slide",{relatedTarget:i[0],direction:o});if(i.hasClass("active"))return;this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=e(a.$indicators.children()[a.getActiveIndex()]);t&&t.addClass("active")}));if(e.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(f);if(f.isDefaultPrevented())return;i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),this.$element.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger("slid")},0)})}else{this.$element.trigger(f);if(f.isDefaultPrevented())return;r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("carousel"),s=e.extend({},e.fn.carousel.defaults,typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;i||r.data("carousel",i=new t(this,s)),typeof n=="number"?i.to(n):o?i[o]():s.interval&&i.pause().cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=e.extend({},i.data(),n.data()),o;i.carousel(s),(o=n.attr("data-slide-to"))&&i.data("carousel").pause().to(o).cycle(),t.preventDefault()})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,r,i;if(this.transitioning||this.$element.hasClass("in"))return;t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),r=this.$parent&&this.$parent.find("> .accordion-group > .in");if(r&&r.length){i=r.data("collapse");if(i&&i.transitioning)return;r.collapse("hide"),i||r.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])},hide:function(){var t;if(this.transitioning||!this.$element.hasClass("in"))return;t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0)},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[e!==null?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,r){var i=this,s=function(){n.type=="show"&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n);if(n.isDefaultPrevented())return;this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),s=e.extend({},e.fn.collapse.defaults,r.data(),typeof n=="object"&&n);i||r.data("collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i).data("collapse")?"toggle":n.data();n[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(i).collapse(s)})}(window.jQuery),!function(e){"use strict";function t(){e(".dropdown-backdrop").remove(),e(r).each(function(){n(e(this)).removeClass("open")})}function n(t){var n=t.attr("data-target"),r;n||(n=t.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),r=n&&e(n);if(!r||!r.length)r=t.parent();return r}var r="[data-toggle=dropdown]",i=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};i.prototype={constructor:i,toggle:function(r){var i=e(this),s,o;if(i.is(".disabled, :disabled"))return;return s=n(i),o=s.hasClass("open"),t(),o||("ontouchstart"in document.documentElement&&e('<div class="dropdown-backdrop"/>').insertBefore(e(this)).on("click",t),s.toggleClass("open")),i.focus(),!1},keydown:function(t){var i,s,o,u,a,f;if(!/(38|40|27)/.test(t.keyCode))return;i=e(this),t.preventDefault(),t.stopPropagation();if(i.is(".disabled, :disabled"))return;u=n(i),a=u.hasClass("open");if(!a||a&&t.keyCode==27)return t.which==27&&u.find(r).focus(),i.click();s=e("[role=menu] li:not(.divider):visible a",u);if(!s.length)return;f=s.index(s.filter(":focus")),t.keyCode==38&&f>0&&f--,t.keyCode==40&&f<s.length-1&&f++,~f||(f=0),s.eq(f).focus()}};var s=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),r=n.data("dropdown");r||n.data("dropdown",r=new i(this)),typeof t=="string"&&r[t].call(n)})},e.fn.dropdown.Constructor=i,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.dropdown.data-api",t).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",r,i.prototype.toggle).on("keydown.dropdown.data-api",r+", [role=menu]",i.prototype.keydown)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented())return;this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")})},hide:function(t){t&&t.preventDefault();var n=this;t=e.Event("hide"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]!==e.target&&!t.$element.has(e.target).length&&t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){t.which==27&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.$backdrop.click(this.options.backdrop=="static"?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in");if(!t)return;i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),typeof n=="object"&&n);i||r.data("modal",i=new t(this,s)),typeof n=="string"?i[n]():s.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(s).one("hide",function(){n.focus()})})}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s,o,u,a;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,o=this.options.trigger.split(" ");for(a=o.length;a--;)u=o[a],u=="click"?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):u!="manual"&&(i=u=="hover"?"mouseenter":"focus",s=u=="hover"?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e.fn[this.type].defaults,r={},i;this._options&&e.each(this._options,function(e,t){n[e]!=t&&(r[e]=t)},this),i=e(t.currentTarget)[this.type](r).data(this.type);if(!i.options.delay||!i.options.delay.show)return i.show();clearTimeout(this.timeout),i.hoverState="in",this.timeout=setTimeout(function(){i.hoverState=="in"&&i.show()},i.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var t,n,r,i,s,o,u=e.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(u);if(u.isDefaultPrevented())return;t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),s=typeof this.options.placement=="function"?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),n=this.getPosition(),r=t[0].offsetWidth,i=t[0].offsetHeight;switch(s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}this.applyPlacement(o,s),this.$element.trigger("shown")}},applyPlacement:function(e,t){var n=this.tip(),r=n[0].offsetWidth,i=n[0].offsetHeight,s,o,u,a;n.offset(e).addClass(t).addClass("in"),s=n[0].offsetWidth,o=n[0].offsetHeight,t=="top"&&o!=i&&(e.top=e.top+i-o,a=!0),t=="bottom"||t=="top"?(u=0,e.left<0&&(u=e.left*-2,e.left=0,n.offset(e),s=n[0].offsetWidth,o=n[0].offsetHeight),this.replaceArrow(u-r+s,s,"left")):this.replaceArrow(o-i,o,"top"),a&&n.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){r.off(e.support.transition.end).detach()},500);r.one(e.support.transition.end,function(){clearTimeout(t),r.detach()})}var n=this,r=this.tip(),i=e.Event("hide");this.$element.trigger(i);if(i.isDefaultPrevented())return;return r.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():r.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},typeof t.getBoundingClientRect=="function"?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=(typeof n.content=="function"?n.content.call(t[0]):n.content)||t.attr("data-content"),e},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s=typeof n=="object"&&n;i||r.data("popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),!function(e){"use strict";function t(t,n){var r=e.proxy(this.process,this),i=e(t).is("body")?e(window):e(t),s;this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=i.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(s=e(t).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t=this,n;this.offsets=e([]),this.targets=e([]),n=this.$body.find(this.selector).map(function(){var n=e(this),r=n.data("target")||n.attr("href"),i=/^#\w/.test(r)&&e(r);return i&&i.length&&[[i.position().top+(!e.isWindow(t.$scrollElement.get(0))&&t.$scrollElement.scrollTop()),r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},process:function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n)return s!=(o=i.last()[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},activate:function(t){var n,r;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(r).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),s=typeof n=="object"&&n;i||r.data("scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.attr("data-target"),i,s,o;r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;i=n.find(".active:last a")[0],o=e.Event("show",{relatedTarget:i}),t.trigger(o);if(o.isDefaultPrevented())return;s=e(r),this.activate(t.parent("li"),n),this.activate(s,s.parent(),function(){t.trigger({type:"shown",relatedTarget:i})})},activate:function(t,n,r){function i(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var s=n.find("> .active"),o=r&&e.support.transition&&s.hasClass("fade");o?s.one(e.support.transition.end,i):i(),s.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("tab");i||r.data("tab",i=new t(this)),typeof n=="string"&&i[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift())i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):t.push(i);return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).attr("data-value",r),t.find("a").html(n.highlighter(r)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0])),r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t=typeof this.$element[e]=="function"),t},move:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){if(this.suppressKeyPressRepeat)return;this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(e){this.focused=!0},blur:function(e){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s=typeof n=="object"&&n;i||r.data("typeahead",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;n.typeahead(n.data())})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var t=e(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),i=this.options.offset,s=i.bottom,o=i.top,u="affix affix-top affix-bottom",a;typeof i!="object"&&(s=o=i),typeof o=="function"&&(o=i.top()),typeof s=="function"&&(s=i.bottom()),a=this.unpin!=null&&n+this.unpin<=r.top?!1:s!=null&&r.top+this.$element.height()>=t-s?"bottom":o!=null&&n<=o?"top":!1;if(this.affixed===a)return;this.affixed=a,this.unpin=a=="bottom"?r.top-n:null,this.$element.removeClass(u).addClass("affix"+(a?"-"+a:""))};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("affix"),s=typeof n=="object"&&n;i||r.data("affix",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery);jQuery(document).ready(function(e){function n(){if(e(window).width()>750){e(".headdown .sf-menu").css("display","block").removeClass("xactive")}else{e(".headdown .sf-menu").css("display","none")}}jQuery.browser={};(function(){jQuery.browser.msie=false;jQuery.browser.version=0;if(navigator.userAgent.match(/MSIE ([0-9]+)\./)){jQuery.browser.msie=true;jQuery.browser.version=RegExp.$1}})();if(e(".sf-menu")[0]){e(".sf-menu").superfish({delay:100,animation:{opacity:"show",height:"show"},speed:300,autoArrows:true}).lavaLamp({fx:"easeOutExpo",speed:600,setOnClick:false,click:function(e,t){return true}});e("a.sf-with-ul .sub").before('<span class="sf-sub-indicator"><i class="icon-angle-down"></i></span>')}var t=jQuery("ul.tabs");t.each(function(e){var t=jQuery(this).find("> li > a");t.click(function(e){var n=jQuery(this).attr("href");if(n.charAt(0)==="#"){e.preventDefault();t.removeClass("active");jQuery(this).addClass("active");jQuery(n).fadeIn(500).addClass("active").siblings().hide().removeClass("active")}})});jQuery("ul.tt-accordion li").each(function(){jQuery(this).children(".accordion-content").css("height",function(){return jQuery(this).height()});if(jQuery(this).index()>0){jQuery(this).children(".accordion-content").css("display","none")}else{jQuery(this).addClass("active").find(".accordion-head-sign").append("<i class='icon-angle-up'></i>");jQuery(this).siblings("li").find(".accordion-head-sign").append("<i class='icon-angle-down'></i>")}jQuery(this).children(".accordion-head").bind("click",function(){jQuery(this).parent().addClass(function(){if(jQuery(this).hasClass("active")){return}return"active"});jQuery(this).siblings(".accordion-content").slideDown();jQuery(this).parent().find(".accordion-head-sign i").addClass("icon-angle-up").removeClass("icon-angle-down");jQuery(this).parent().siblings("li").children(".accordion-content").slideUp();jQuery(this).parent().siblings("li").removeClass("active");jQuery(this).parent().siblings("li").find(".accordion-head-sign i").removeClass("icon-angle-up").addClass("icon-angle-down")})});jQuery("ul.tt-toggle li").each(function(){jQuery(this).children(".toggle-content").css("height",function(){return jQuery(this).height()});jQuery(this).children(".toggle-content").css("display","none");jQuery(this).find(".toggle-head-sign").html("&#43;");jQuery(this).children(".toggle-head").bind("click",function(){if(jQuery(this).parent().hasClass("active")){jQuery(this).parent().removeClass("active")}else{jQuery(this).parent().addClass("active")}jQuery(this).find(".toggle-head-sign").html(function(){if(jQuery(this).parent().parent().hasClass("active")){return"&minus;"}else{return"&#43;"}});jQuery(this).siblings(".toggle-content").slideToggle()})});jQuery("ul.tt-toggle").find(".toggle-content.active").siblings(".toggle-head").trigger("click");e(".headdown nav").before('<div id="mobilepro"><i class="icon-reorder icon-remove"></i></div>');e(".headdown .sf-menu li").addClass("xpopdrop");e("#mobilepro").click(function(){e(".headdown .sf-menu").slideToggle("slow","easeInOutExpo").toggleClass("xactive");e("#mobilepro i").toggleClass("icon-reorder")});e("body").click(function(){e(".headdown .xactive").slideUp("slow","easeInOutExpo").removeClass("xactive");e("#mobilepro i").addClass("icon-reorder")});e("#mobilepro, .sf-menu").click(function(e){e.stopPropagation()});e(window).load(n);e(window).resize(n);jQuery("#toTop").click(function(){jQuery("body,html").animate({scrollTop:0},800)});jQuery("#toTop").addClass("hidett");jQuery(window).scroll(function(){if(jQuery(this).scrollTop()<600){jQuery("#toTop").addClass("hidett").removeClass("showtt")}else{jQuery("#toTop").removeClass("hidett").addClass("showtt")}});e(".notification-close-info").click(function(){e(".notification-box-info").fadeOut("slow");return false});e(".notification-close-success").click(function(){e(".notification-box-success").fadeOut("slow");return false});e(".notification-close-warning").click(function(){e(".notification-box-warning").fadeOut("slow");return false});e(".notification-close-error").click(function(){e(".notification-box-error").fadeOut("slow");return false});if(e(".notification-box")[0]){var r=e(".notification-box .onebyone");r.css("opacity","0");var i=0;r.each(function(){var t=e(this);setTimeout(function(){t.addClass("notif-anim").css("opacity","1")},i+=300)});thisdivf_flag=true}if(e(".mtracks")[0]){e(".mtracks").nanoScroller()}if(e(".postslider")[0]){jQuery(".postslider").flexslider()}if(e(".videos")[0]){jQuery(".videos").flexslider({animation:"fade",slideshowSpeed:5e3,animationSpeed:600,directionNav:true,controlNav:false,pauseOnHover:true,initDelay:0,randomize:false,smoothHeight:true,keyboardNav:true})}if(e("#nivo-slider")[0]){e("#nivo-slider").nivoSlider()}if(e(".roundabout")[0]){e(".roundabout ul").roundabout({duration:500,easing:"easeOutBack",enableDrag:true});e(window).bind("resize",s);function s(t){var n=e("#layout").width();e(".roundabout").css("width",n+"px")}}if(e(".modern-slider")[0]){e(".modern-slider").modernSlider({effect:"easeInOutElastic",pause:4e3,autoplay:true});e(window).bind("resize",o);function o(t){var n=e("#layout").width();e(".modern-slider, .modern-slider img").css("width",n+"px")}}if(e("#iview")[0]){jQuery("#iview").iView({pauseTime:7e3,pauseOnHover:true,directionNav:true,directionNavHide:false,directionNavHoverOpacity:0,controlNav:true,nextLabel:"Next",previousLabel:"Prev",playLabel:"Play",pauseLabel:"Pause",timer:"360Bar",timerPadding:3,timerColor:"#1ABC9C"})}if(e(".progress-bar")[0]){e(".progress-bar > span").each(function(){e(this).data("origWidth",e(this).width()).width(0).animate({width:e(this).data("origWidth")},1800)})}var u=0;e("#Login_PopUp_Link").click(function(){var t=document.documentElement.clientWidth;var n=document.documentElement.clientHeight;var r=e("#popupLogin").height();var i=e("#popupLogin").width();e("#popupLogin").css({top:n/2-r/2,left:t/2-i/2});e("#LoginBackgroundPopup").css({height:n});if(u==0){e("#LoginBackgroundPopup").css({opacity:"0.7"});e("#LoginBackgroundPopup").fadeIn("slow");e("#popupLogin").addClass("zigmaIn").fadeIn("slow");u=1}});e("#popupLoginClose").click(function(){if(u==1){e("#LoginBackgroundPopup").fadeOut("slow");e("#popupLogin").removeClass("zigmaIn").fadeOut("slow");u=0}});e("body").click(function(){e("#LoginBackgroundPopup").fadeOut("slow");e("#popupLogin").removeClass("zigmaIn").fadeOut("slow");u=0});e("#popupLogin, #Login_PopUp_Link").click(function(e){e.stopPropagation()});if(e("#masonry-container")[0]){var a=e("#masonry-container");a.imagesLoaded(function(){a.masonry({itemSelector:".mitem",isAnimated:true,columnWidth:1})})}if(!(jQuery.browser.msie&&parseInt(jQuery.browser.version,10)<6)){jQuery(".hover-fx").each(function(){var t=jQuery(this).find(".overlay");jQuery(this).hover(function(){t.stop().fadeIn();e(this).removeClass("flipOutX")},function(){t.stop().fadeOut("fast");e(this).addClass("flipOutX")})})}if(e("#tp-grid")[0]){var f=e("#tp-grid"),l=e("#name"),c=e("#close"),h=e('<div class="loader"><i></i><i></i><i></i><i></i><i></i><i></i><span>Loading...</span></div>').insertBefore(f),p=f.stapel({randomAngle:true,delay:100,gutter:0,pileAngles:3,onLoad:function(){h.remove()},onBeforeOpen:function(e){l.html(e)},onAfterOpen:function(t){e("a[data-gal^='photo']").prettyPhoto({theme:"dark_rounded"});c.show()}});c.on("click",function(){e("a[data-gal^='photo']").prettyPhoto().unbind();c.hide();l.empty().html("Photo Gallery");p.closePile()})}if(e("a[data-gal^='photo']")[0]){e("a[data-gal^='photo']").prettyPhoto({theme:"dark_rounded"})}if(e(".filter")[0]){var d=e(".portfolio").clone();e(".filter a").click(function(t){e(".filter li").removeClass("current");var n=e(this).parent().attr("class");if(n==="all"){var r=d.find("li")}else{var r=d.find("li[data-type~="+n+"]")}e(".portfolio").quicksand(r,{duration:600,easing:"easeOutExpo",adjustHeight:"dynamic"},function(){e(".portfolio a[data-gal^='photo']").prettyPhoto({theme:"facebook",autoplay_slideshow:false,overlay_gallery:false,show_title:false});if(!(jQuery.browser.msie&&parseInt(jQuery.browser.version,10)<6)){jQuery(".hover-fx").each(function(){var t=jQuery(this).find(".overlay");jQuery(this).hover(function(){t.stop().fadeIn();e(this).removeClass("flipOutX")},function(){t.stop().fadeOut("fast");e(this).addClass("flipOutX")})})}});e(this).parent().addClass("current");t.preventDefault()})}if(e("#flickr-photos")[0]){e("#flickr-photos").jflickrfeed({limit:9,qstrings:{id:"52617155@N08"},itemTemplate:'<li><a href="{{image_b}}" data-gal="photo[flickr]"><img src="{{image_s}}" alt="{{title}}" /></a></li>',itemCallback:function(t){e("a[data-gal^='photo']").prettyPhoto()}})}if(e("#contactForm")[0]){e("#contactForm").submit(function(){e("#contactForm .error").remove();e(".requiredField").removeClass("fielderror");e(".requiredField").addClass("fieldtrue");e("#contactForm span strong").remove();var t=false;e("#contactForm .requiredField").each(function(){if(jQuery.trim(e(this).val())===""){var n=e(this).prev("label").text();e(this).addClass("fielderror");e("#contactForm span").html("<strong>*Please fill out all fields.</strong>");t=true}else{if(e(this).hasClass("email")){var r=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;if(!r.test(jQuery.trim(e(this).val()))){var n=e(this).prev("label").text();e(this).addClass("fielderror");e("#contactForm span").html("<strong>Is incorrect your email address</strong>");t=true}}}});if(!t){e("#contactForm").slideDown("normal",function(){e("#contactForm #sendMessage").addClass("load-color");e("#contactForm #sendMessage").attr("disabled","disabled").val("Sending message. Please wait...")});var n=e(this).serialize();e.post(e(this).attr("action"),n,function(t){e("#contactForm").slideUp("normal",function(){e(this).before('<div class="notification-box notification-box-success"><p><i class="icon-ok"></i>Thanks!</strong> Your email was successfully sent. We check Our email all the time, so we should be in touch soon.</p></div>')})})}return false})}if(e(".tweet")[0]){jQuery(".tweet").tweet({modpath:"js/twitter/",username:"behzadg1",page:1,count:3,loading_text:"<i class='icon-spinner icon-spin mi'></i>Loading Tweets..."});jQuery(".tweet li").prepend("<i class='icon-twitter'></i>")}e(".toptip").tipsy({fade:true,gravity:"s"});e(".bottomtip").tipsy({fade:true,gravity:"n"});e(".righttip").tipsy({fade:true,gravity:"w"});e(".lefttip").tipsy({fade:true,gravity:"e"});jQuery(".animt").each(function(){var e=jQuery(this);var t=e.attr("data-gen-offset");if(t===""||t==="undefined"||t===undefined){t="bottom-in-view"}e.waypoint(function(){e.trigger("animt")},{triggerOnce:true,offset:t})});jQuery(".animtt").each(function(){var e=jQuery(this);e.bind("animt",function(){e.css("opacity","");e.addClass(e.data("gen"))})});jQuery(".animtt").each(function(){var e=jQuery(this);var t=e.attr("data-gen-offset");if(t===""||t==="undefined"||t===undefined){t="bottom-in-view"}e.waypoint(function(){e.trigger("animt")},{triggerOnce:true,offset:t})});if(e(".glue")[0]){e(window).scroll(function(){var t=e(window).scrollTop();var n=e(window).width();if(n>770){if(t<200){if(e("#header").data("sticky")===true){e("#header").data("sticky",false);e("#header").stop(true).animate({opacity:0},150,function(){e(this).removeClass("sticky");e("#header").stop(true).animate({opacity:1},300)})}}else{if(e("#header").data("sticky")===false||typeof e("#header").data("sticky")==="undefined"){e("#header").data("sticky",true);e("#header").stop(true).animate({opacity:0},150,function(){e(this).addClass("sticky");e("#header.sticky").stop(true).animate({opacity:1},300)})}}}});e(window).resize(function(){var t=e(window).width();if(t<770){if(e("#header").hasClass("sticky")){e("#header").removeClass("sticky")}}})}});(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e){return t}}return-1},t=[].slice;(function(e,t){if(typeof define==="function"&&define.amd){return define("waypoints",["jquery"],function(n){return t(n,e)})}else{return t(e.jQuery,e)}})(this,function(n,r){var i,s,o,u,f,l,c,h,p,d,v,m,g,y,w,E;i=n(r);h=e.call(r,"ontouchstart")>=0;u={horizontal:{},vertical:{}};f=1;c={};l="waypoints-context-id";v="resize.waypoints";m="scroll.waypoints";g=1;y="waypoints-waypoint-ids";w="waypoint";E="waypoints";s=function(){function e(e){var t=this;this.$element=e;this.element=e[0];this.didResize=false;this.didScroll=false;this.id="context"+f++;this.oldScroll={x:e.scrollLeft(),y:e.scrollTop()};this.waypoints={horizontal:{},vertical:{}};e.data(l,this.id);c[this.id]=this;e.bind(m,function(){var e;if(!(t.didScroll||h)){t.didScroll=true;e=function(){t.doScroll();return t.didScroll=false};return r.setTimeout(e,n[E].settings.scrollThrottle)}});e.bind(v,function(){var e;if(!t.didResize){t.didResize=true;e=function(){n[E]("refresh");return t.didResize=false};return r.setTimeout(e,n[E].settings.resizeThrottle)}})}e.prototype.doScroll=function(){var e,t=this;e={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};if(h&&(!e.vertical.oldScroll||!e.vertical.newScroll)){n[E]("refresh")}n.each(e,function(e,r){var i,s,o;o=[];s=r.newScroll>r.oldScroll;i=s?r.forward:r.backward;n.each(t.waypoints[e],function(e,t){var n,i;if(r.oldScroll<(n=t.offset)&&n<=r.newScroll){return o.push(t)}else{if(r.newScroll<(i=t.offset)&&i<=r.oldScroll){return o.push(t)}}});o.sort(function(e,t){return e.offset-t.offset});if(!s){o.reverse()}return n.each(o,function(e,t){if(t.options.continuous||e===o.length-1){return t.trigger([i])}})});return this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}};e.prototype.refresh=function(){var e,t,r,i=this;r=n.isWindow(this.element);t=this.$element.offset();this.doScroll();e={horizontal:{contextOffset:r?0:t.left,contextScroll:r?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:r?0:t.top,contextScroll:r?0:this.oldScroll.y,contextDimension:r?n[E]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};return n.each(e,function(e,t){return n.each(i.waypoints[e],function(e,r){var i,s,o,u,a;i=r.options.offset;o=r.offset;s=n.isWindow(r.element)?0:r.$element.offset()[t.offsetProp];if(n.isFunction(i)){i=i.apply(r.element)}else{if(typeof i==="string"){i=parseFloat(i);if(r.options.offset.indexOf("%")>-1){i=Math.ceil(t.contextDimension*i/100)}}}r.offset=s-t.contextOffset+t.contextScroll-i;if(r.options.onlyOnScroll&&o!=null||!r.enabled){return}if(o!==null&&o<(u=t.oldScroll)&&u<=r.offset){return r.trigger([t.backward])}else{if(o!==null&&o>(a=t.oldScroll)&&a>=r.offset){return r.trigger([t.forward])}else{if(o===null&&t.oldScroll>=r.offset){return r.trigger([t.forward])}}}})})};e.prototype.checkEmpty=function(){if(n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical)){this.$element.unbind([v,m].join(" "));return delete c[this.id]}};return e}();o=function(){function e(e,t,r){var i,s;r=n.extend({},n.fn[w].defaults,r);if(r.offset==="bottom-in-view"){r.offset=function(){var e;e=n[E]("viewportHeight");if(!n.isWindow(t.element)){e=t.$element.height()}return e-n(this).outerHeight()}}this.$element=e;this.element=e[0];this.axis=r.horizontal?"horizontal":"vertical";this.callback=r.handler;this.context=t;this.enabled=r.enabled;this.id="waypoints"+g++;this.offset=null;this.options=r;t.waypoints[this.axis][this.id]=this;u[this.axis][this.id]=this;i=(s=e.data(y))!=null?s:[];i.push(this.id);e.data(y,i)}e.prototype.trigger=function(e){if(!this.enabled){return}if(this.callback!=null){this.callback.apply(this.element,e)}if(this.options.triggerOnce){return this.destroy()}};e.prototype.disable=function(){return this.enabled=false};e.prototype.enable=function(){this.context.refresh();return this.enabled=true};e.prototype.destroy=function(){delete u[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];return this.context.checkEmpty()};e.getWaypointsByElement=function(e){var t,r;r=n(e).data(y);if(!r){return[]}t=n.extend({},u.horizontal,u.vertical);return n.map(r,function(e){return t[e]})};return e}();d={init:function(e,t){var r;if(t==null){t={}}if((r=t.handler)==null){t.handler=e}this.each(function(){var e,r,i,u;e=n(this);i=(u=t.context)!=null?u:n.fn[w].defaults.context;if(!n.isWindow(i)){i=e.closest(i)}i=n(i);r=c[i.data(l)];if(!r){r=new s(i)}return new o(e,r,t)});n[E]("refresh");return this},disable:function(){return d._invoke(this,"disable")},enable:function(){return d._invoke(this,"enable")},destroy:function(){return d._invoke(this,"destroy")},prev:function(e,t){return d._traverse.call(this,e,t,function(e,t,n){if(t>0){return e.push(n[t-1])}})},next:function(e,t){return d._traverse.call(this,e,t,function(e,t,n){if(t<n.length-1){return e.push(n[t+1])}})},_traverse:function(e,t,i){var s,o;if(e==null){e="vertical"}if(t==null){t=r}o=p.aggregate(t);s=[];this.each(function(){var t;t=n.inArray(this,o[e]);return i(s,t,o[e])});return this.pushStack(s)},_invoke:function(e,t){e.each(function(){var e;e=o.getWaypointsByElement(this);return n.each(e,function(e,n){n[t]();return true})});return this}};n.fn[w]=function(){var e,r;r=arguments[0],e=2<=arguments.length?t.call(arguments,1):[];if(d[r]){return d[r].apply(this,e)}else{if(n.isFunction(r)){return d.init.apply(this,arguments)}else{if(n.isPlainObject(r)){return d.init.apply(this,[null,r])}else{if(!r){return n.error("jQuery Waypoints needs a callback function or handler option.")}else{return n.error("The "+r+" method does not exist in jQuery Waypoints.")}}}}};n.fn[w].defaults={context:r,continuous:true,enabled:true,horizontal:false,offset:0,triggerOnce:false};p={refresh:function(){return n.each(c,function(e,t){return t.refresh()})},viewportHeight:function(){var e;return(e=r.innerHeight)!=null?e:i.height()},aggregate:function(e){var t,r,i;t=u;if(e){t=(i=c[n(e).data(l)])!=null?i.waypoints:void 0}if(!t){return[]}r={horizontal:[],vertical:[]};n.each(r,function(e,i){n.each(t[e],function(e,t){return i.push(t)});i.sort(function(e,t){return e.offset-t.offset});r[e]=n.map(i,function(e){return e.element});return r[e]=n.unique(r[e])});return r},above:function(e){if(e==null){e=r}return p._filter(e,"vertical",function(e,t){return t.offset<=e.oldScroll.y})},below:function(e){if(e==null){e=r}return p._filter(e,"vertical",function(e,t){return t.offset>e.oldScroll.y})},left:function(e){if(e==null){e=r}return p._filter(e,"horizontal",function(e,t){return t.offset<=e.oldScroll.x})},right:function(e){if(e==null){e=r}return p._filter(e,"horizontal",function(e,t){return t.offset>e.oldScroll.x})},enable:function(){return p._invoke("enable")},disable:function(){return p._invoke("disable")},destroy:function(){return p._invoke("destroy")},extendFn:function(e,t){return d[e]=t},_invoke:function(e){var t;t=n.extend({},u.vertical,u.horizontal);return n.each(t,function(t,n){n[e]();return true})},_filter:function(e,t,r){var i,s;i=c[n(e).data(l)];if(!i){return[]}s=[];n.each(i.waypoints[t],function(e,t){if(r(i,t)){return s.push(t)}});s.sort(function(e,t){return e.offset-t.offset});return n.map(s,function(e){return e.element})}};n[E]=function(){var e,n;n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[];if(p[n]){return p[n].apply(null,e)}else{return p.aggregate.call(null,n)}};n[E].settings={resizeThrottle:100,scrollThrottle:30};return i.load(function(){return n[E]("refresh")})})}).call(this);(function(e){function t(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)";var r=new RegExp(n);var i=r.exec(t);return i==null?"":i[1]}e.prettyPhoto={version:"3.1"};e.fn.prettyPhoto=function(n){function d(){e(".pp_loaderIcon").hide();$ppt.fadeTo(settings.animation_speed,1);projectedTop=scroll_pos["scrollTop"]+(c/2-s["containerHeight"]/2);if(projectedTop<0)projectedTop=0;$pp_pic_holder.find(".pp_content").animate({height:s["contentHeight"],width:s["contentWidth"]},settings.animation_speed);$pp_pic_holder.animate({top:projectedTop,left:h/2-s["containerWidth"]/2,width:s["containerWidth"]},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(s["height"]).width(s["width"]);$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed);if(isSet&&b(pp_images[set_position])=="image"){$pp_pic_holder.find(".pp_hoverContainer").show()}else{$pp_pic_holder.find(".pp_hoverContainer").hide()}if(s["resized"]){e("a.pp_expand,a.pp_contract").show()}else{e("a.pp_expand").hide()}if(settings.autoplay_slideshow&&!p&&!o)e.prettyPhoto.startSlideshow();settings.changepicturecallback();o=true});x()}function v(t){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden");$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){e(".pp_loaderIcon").show();t()})}function m(t){t>1?e(".pp_nav").show():e(".pp_nav").hide()}function g(e,t){resized=false;y(e,t);imageWidth=e,imageHeight=t;if((l>h||f>c)&&doresize&&settings.allow_resize&&!i){resized=true,fitting=false;while(!fitting){if(l>h){imageWidth=h-200;imageHeight=t/e*imageWidth}else if(f>c){imageHeight=c-200;imageWidth=e/t*imageHeight}else{fitting=true}f=imageHeight,l=imageWidth}y(imageWidth,imageHeight);if(l>h||f>c){g(l,f)}}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(f),containerWidth:Math.floor(l)+settings.horizontal_padding*2,contentHeight:Math.floor(u),contentWidth:Math.floor(a),resized:resized}}function y(t,n){t=parseFloat(t);n=parseFloat(n);$pp_details=$pp_pic_holder.find(".pp_details");$pp_details.width(t);detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom"));$pp_details=$pp_details.clone().addClass(settings.theme).width(t).appendTo(e("body")).css({position:"absolute",top:-1e4});detailsHeight+=$pp_details.height();detailsHeight=detailsHeight<=34?36:detailsHeight;if(e.browser.msie&&e.browser.version==7)detailsHeight+=8;$pp_details.remove();$pp_title=$pp_pic_holder.find(".ppt");$pp_title.width(t);titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom"));$pp_title=$pp_title.clone().appendTo(e("body")).css({position:"absolute",top:-1e4});titleHeight+=$pp_title.height();$pp_title.remove();u=n+detailsHeight;a=t;f=u+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height();l=t}function b(e){if(e.match(/youtube\.com\/watch/i)){return"youtube"}else if(e.match(/vimeo\.com/i)){return"vimeo"}else if(e.match(/\b.mov\b/i)){return"quicktime"}else if(e.match(/\b.swf\b/i)){return"flash"}else if(e.match(/\biframe=true\b/i)){return"iframe"}else if(e.match(/\bajax=true\b/i)){return"ajax"}else if(e.match(/\bcustom=true\b/i)){return"custom"}else if(e.substr(0,1)=="#"){return"inline"}else{return"image"}}function w(){if(doresize&&typeof $pp_pic_holder!="undefined"){scroll_pos=E();contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width();projectedTop=c/2+scroll_pos["scrollTop"]-contentHeight/2;if(projectedTop<0)projectedTop=0;if(contentHeight>c)return;$pp_pic_holder.css({top:projectedTop,left:h/2+scroll_pos["scrollLeft"]-contentwidth/2})}}function E(){if(self.pageYOffset){return{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}}else if(document.documentElement&&document.documentElement.scrollTop){return{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}}else if(document.body){return{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}}}function S(){c=e(window).height(),h=e(window).width();if(typeof $pp_overlay!="undefined")$pp_overlay.height(e(document).height()).width(h)}function x(){if(isSet&&settings.overlay_gallery&&b(pp_images[set_position])=="image"&&settings.ie6_fallback&&!(e.browser.msie&&parseInt(e.browser.version)==6)){itemWidth=52+5;navWidth=settings.theme=="facebook"||settings.theme=="pp_default"?50:30;itemsPerPage=Math.floor((s["containerWidth"]-100-navWidth)/itemWidth);itemsPerPage=itemsPerPage<pp_images.length?itemsPerPage:pp_images.length;totalPage=Math.ceil(pp_images.length/itemsPerPage)-1;if(totalPage==0){navWidth=0;$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()}else{$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show()}galleryWidth=itemsPerPage*itemWidth;fullGalleryWidth=pp_images.length*itemWidth;$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected");goToPage=Math.floor(set_position/itemsPerPage)<totalPage?Math.floor(set_position/itemsPerPage):totalPage;e.prettyPhoto.changeGalleryPage(goToPage);$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")}else{$pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave")}}function T(t){e("body").append(settings.markup);$pp_pic_holder=e(".pp_pic_holder"),$ppt=e(".ppt"),$pp_overlay=e("div.pp_overlay");if(isSet&&settings.overlay_gallery){currentGalleryPage=0;toInject="";for(var n=0;n<pp_images.length;n++){if(!pp_images[n].match(/\b(jpg|jpeg|png|gif)\b/gi)){classname="default";img_src=""}else{classname="";img_src=pp_images[n]}toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>"}toInject=settings.gallery_markup.replace(/{gallery}/g,toInject);$pp_pic_holder.find("#pp_full_res").after(toInject);$pp_gallery=e(".pp_pic_holder .pp_gallery"),$pp_gallery_li=$pp_gallery.find("li");$pp_gallery.find(".pp_arrow_next").click(function(){e.prettyPhoto.changeGalleryPage("next");e.prettyPhoto.stopSlideshow();return false});$pp_gallery.find(".pp_arrow_previous").click(function(){e.prettyPhoto.changeGalleryPage("previous");e.prettyPhoto.stopSlideshow();return false});$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()});itemWidth=52+5;$pp_gallery_li.each(function(t){e(this).find("a").click(function(){e.prettyPhoto.changePage(t);e.prettyPhoto.stopSlideshow();return false})})}if(settings.slideshow){$pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>');$pp_pic_holder.find(".pp_nav .pp_play").click(function(){e.prettyPhoto.startSlideshow();return false})}$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme);$pp_overlay.css({opacity:0,height:e(document).height(),width:e(window).width()}).bind("click",function(){if(!settings.modal)e.prettyPhoto.close()});e("a.pp_close").bind("click",function(){e.prettyPhoto.close();return false});e("a.pp_expand").bind("click",function(t){if(e(this).hasClass("pp_expand")){e(this).removeClass("pp_expand").addClass("pp_contract");doresize=false}else{e(this).removeClass("pp_contract").addClass("pp_expand");doresize=true}v(function(){e.prettyPhoto.open()});return false});$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){e.prettyPhoto.changePage("previous");e.prettyPhoto.stopSlideshow();return false});$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){e.prettyPhoto.changePage("next");e.prettyPhoto.stopSlideshow();return false});w()}n=jQuery.extend({animation_speed:"fast",slideshow:5e3,autoplay_slideshow:false,opacity:.8,show_title:true,allow_resize:true,default_width:1024,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:false,wmode:"opaque",autoplay:true,modal:false,overlay_gallery:true,keyboard_shortcuts:true,changepicturecallback:function(){},callback:function(){},ie6_fallback:true,markup:'<div class="pp_pic_holder"> 						<div class="ppt">&nbsp;</div> 						<div class="pp_top"> 							<div class="pp_left"></div> 							<div class="pp_middle"></div> 							<div class="pp_right"></div> 						</div> 						<div class="pp_content_container"> 							<div class="pp_left"> 							<div class="pp_right"> 								<div class="pp_content"> 									<div class="pp_loaderIcon"></div> 									<div class="pp_fade"> 										<a href="#" class="pp_expand" title="Expand the image">Expand</a> 										<div class="pp_hoverContainer"> 											<a class="pp_next" href="#">next</a> 											<a class="pp_previous" href="#">previous</a> 										</div> 										<div id="pp_full_res"></div> 										<div class="pp_details"> 											<div class="pp_nav"> 												<a href="#" class="pp_arrow_previous">Previous</a> 												<p class="currentTextHolder">0/0</p> 												<a href="#" class="pp_arrow_next">Next</a> 											</div> 											<p class="pp_description"></p> 											<a class="pp_close" href="#">Close</a> 										</div> 									</div> 								</div> 							</div> 							</div> 						</div> 						<div class="pp_bottom"> 							<div class="pp_left"></div> 							<div class="pp_middle"></div> 							<div class="pp_right"></div> 						</div> 					</div> 					<div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery"> 								<a href="#" class="pp_arrow_previous">Previous</a> 								<div> 									<ul> 										{gallery} 									</ul> 								</div> 								<a href="#" class="pp_arrow_next">Next</a> 							</div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:""},n);var r=this,i=false,s,o,u,a,f,l,c=e(window).height(),h=e(window).width(),p;doresize=true,scroll_pos=E();e(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){w();S()});if(n.keyboard_shortcuts){e(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(t){if(typeof $pp_pic_holder!="undefined"){if($pp_pic_holder.is(":visible")){switch(t.keyCode){case 37:e.prettyPhoto.changePage("previous");t.preventDefault();break;case 39:e.prettyPhoto.changePage("next");t.preventDefault();break;case 27:if(!settings.modal)e.prettyPhoto.close();t.preventDefault();break}}}})}e.prettyPhoto.initialize=function(){settings=n;if(settings.theme=="pp_default")settings.horizontal_padding=16;if(settings.ie6_fallback&&e.browser.msie&&parseInt(e.browser.version)==6)settings.theme="light_square";theRel=e(this).attr("data-gal");galleryRegExp=/\[(?:.*)\]/;isSet=galleryRegExp.exec(theRel)?true:false;pp_images=isSet?jQuery.map(r,function(t,n){if(e(t).attr("data-gal").indexOf(theRel)!=-1)return e(t).attr("href")}):e.makeArray(e(this).attr("href"));pp_titles=isSet?jQuery.map(r,function(t,n){if(e(t).attr("data-gal").indexOf(theRel)!=-1)return e(t).find("img").attr("alt")?e(t).find("img").attr("alt"):""}):e.makeArray(e(this).find("img").attr("alt"));pp_descriptions=isSet?jQuery.map(r,function(t,n){if(e(t).attr("data-gal").indexOf(theRel)!=-1)return e(t).attr("title")?e(t).attr("title"):""}):e.makeArray(e(this).attr("title"));set_position=jQuery.inArray(e(this).attr("href"),pp_images);T(this);if(settings.allow_resize)e(window).bind("scroll.prettyphoto",function(){w()});e.prettyPhoto.open();return false};e.prettyPhoto.open=function(r){if(typeof settings=="undefined"){settings=n;if(e.browser.msie&&e.browser.version==6)settings.theme="light_square";pp_images=e.makeArray(arguments[0]);pp_titles=arguments[1]?e.makeArray(arguments[1]):e.makeArray("");pp_descriptions=arguments[2]?e.makeArray(arguments[2]):e.makeArray("");isSet=pp_images.length>1?true:false;set_position=0;T(r.target)}if(e.browser.msie&&e.browser.version==6)e("select").css("visibility","hidden");if(settings.hideflash)e("object,embed").css("visibility","hidden");m(e(pp_images).size());e(".pp_loaderIcon").show();if($ppt.is(":hidden"))$ppt.css("opacity",0).show();$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity);$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+e(pp_images).size());$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position]));movie_width=parseFloat(t("width",pp_images[set_position]))?t("width",pp_images[set_position]):settings.default_width.toString();movie_height=parseFloat(t("height",pp_images[set_position]))?t("height",pp_images[set_position]):settings.default_height.toString();if(movie_height.indexOf("%")!=-1){movie_height=parseFloat(e(window).height()*parseFloat(movie_height)/100-150);i=true}if(movie_width.indexOf("%")!=-1){movie_width=parseFloat(e(window).width()*parseFloat(movie_width)/100-150);i=true}$pp_pic_holder.fadeIn(function(){settings.show_title&&pp_titles[set_position]!=""&&typeof pp_titles[set_position]!="undefined"?$ppt.html(unescape(pp_titles[set_position])):$ppt.html("&nbsp;");imgPreloader="";skipInjection=false;switch(b(pp_images[set_position])){case"image":imgPreloader=new Image;nextImage=new Image;if(isSet&&set_position<e(pp_images).size()-1)nextImage.src=pp_images[set_position+1];prevImage=new Image;if(isSet&&pp_images[set_position-1])prevImage.src=pp_images[set_position-1];$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]);imgPreloader.onload=function(){s=g(imgPreloader.width,imgPreloader.height);d()};imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist.");e.prettyPhoto.close()};imgPreloader.src=pp_images[set_position];break;case"youtube":s=g(movie_width,movie_height);movie="http://www.youtube.com/embed/"+t("v",pp_images[set_position]);if(settings.autoplay)movie+="?autoplay=1";toInject=settings.iframe_markup.replace(/{width}/g,s["width"]).replace(/{height}/g,s["height"]).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case"vimeo":s=g(movie_width,movie_height);movie_id=pp_images[set_position];var n=/http:\/\/(www\.)?vimeo.com\/(\d+)/;var r=movie_id.match(n);movie="http://player.vimeo.com/video/"+r[2]+"?title=0&byline=0&portrait=0";if(settings.autoplay)movie+="&autoplay=1;";vimeo_width=s["width"]+"/embed/?moog_width="+s["width"];toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,s["height"]).replace(/{path}/g,movie);break;case"quicktime":s=g(movie_width,movie_height);s["height"]+=15;s["contentHeight"]+=15;s["containerHeight"]+=15;toInject=settings.quicktime_markup.replace(/{width}/g,s["width"]).replace(/{height}/g,s["height"]).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case"flash":s=g(movie_width,movie_height);flash_vars=pp_images[set_position];flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length);filename=pp_images[set_position];filename=filename.substring(0,filename.indexOf("?"));toInject=settings.flash_markup.replace(/{width}/g,s["width"]).replace(/{height}/g,s["height"]).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":s=g(movie_width,movie_height);frame_url=pp_images[set_position];frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1);toInject=settings.iframe_markup.replace(/{width}/g,s["width"]).replace(/{height}/g,s["height"]).replace(/{path}/g,frame_url);break;case"ajax":doresize=false;s=g(movie_width,movie_height);doresize=true;skipInjection=true;e.get(pp_images[set_position],function(e){toInject=settings.inline_markup.replace(/{content}/g,e);$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject;d()});break;case"custom":s=g(movie_width,movie_height);toInject=settings.custom_markup;break;case"inline":myClone=e(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(e("body")).show();doresize=false;s=g(e(myClone).width(),e(myClone).height());doresize=true;e(myClone).remove();toInject=settings.inline_markup.replace(/{content}/g,e(pp_images[set_position]).html());break}if(!imgPreloader&&!skipInjection){$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject;d()}});return false};e.prettyPhoto.changePage=function(t){currentGalleryPage=0;if(t=="previous"){set_position--;if(set_position<0){set_position=e(pp_images).size()-1}}else if(t=="next"){set_position++;if(set_position>e(pp_images).size()-1){set_position=0}}else{set_position=t}if(!doresize)doresize=true;e(".pp_contract").removeClass("pp_contract").addClass("pp_expand");v(function(){e.prettyPhoto.open()})};e.prettyPhoto.changeGalleryPage=function(e){if(e=="next"){currentGalleryPage++;if(currentGalleryPage>totalPage){currentGalleryPage=0}slide_speed=settings.animation_speed}else if(e=="previous"){currentGalleryPage--;if(currentGalleryPage<0){currentGalleryPage=totalPage}slide_speed=settings.animation_speed}else{currentGalleryPage=e;slide_speed=0}slide_to=currentGalleryPage*itemsPerPage*itemWidth;itemsToSlide=currentGalleryPage==totalPage?pp_images.length-totalPage*itemsPerPage:itemsPerPage;$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)};e.prettyPhoto.startSlideshow=function(){if(typeof p=="undefined"){$pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){e.prettyPhoto.stopSlideshow();return false});p=setInterval(e.prettyPhoto.startSlideshow,settings.slideshow)}else{e.prettyPhoto.changePage("next")}};e.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){e.prettyPhoto.startSlideshow();return false});clearInterval(p);p=undefined};e.prettyPhoto.close=function(){if($pp_overlay.is(":animated"))return;e.prettyPhoto.stopSlideshow();$pp_pic_holder.stop().find("object,embed").css("visibility","hidden");e("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,function(){e(this).remove()});$pp_overlay.fadeOut(settings.animation_speed,function(){if(e.browser.msie&&e.browser.version==6)e("select").css("visibility","visible");if(settings.hideflash)e("object,embed").css("visibility","visible");e(this).remove();e(window).unbind("scroll.prettyphoto");settings.callback();doresize=true;o=false;delete settings})};return this.unbind("click.prettyphoto").bind("click.prettyphoto",e.prettyPhoto.initialize)}})(jQuery)